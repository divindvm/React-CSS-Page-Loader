{"version":3,"file":"index.js","sources":["../PageLoader.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { motion } from 'framer-motion'\nimport \"./PageLoader.scss\";\n\n// Animation configurations\nconst text = {\n    initial: {\n        opacity: 1,\n    },\n    enter: {\n        opacity: 0,\n        left: -100,\n        transition: {duration: .75, delay: 3.35, ease: [0.76, 0, 0.24, 1]},\n        transitionEnd: {left: \"47.5%\"}\n    },\n    exit: {\n        opacity: 1,\n        left: \"40%\",\n        transition: {duration: .5, delay: .4, ease: [0.33, 1, 0.68, 1]}\n    }\n}\n\nconst curve = (initialPath, targetPath) => {\n    return {\n        initial: {\n            d: initialPath\n        },\n        enter: {\n            d: targetPath,\n            transition: {duration: .75, delay: 3.35, ease: [0.76, 0, 0.24, 1]}\n        },\n        exit: {\n            d: initialPath,\n            transition: {duration: .75, ease: [0.76, 0, 0.24, 1]}\n        }\n    }\n}\n\nconst translate = {\n    initial: {\n        left: \"-300px\"\n    },\n    enter: {\n        left: \"-100vw\",\n        transition: {duration: .75, delay: 3.35, ease: [0.76, 0, 0.24, 1]},\n        transitionEnd: {\n            left: \"100vw\"\n        }\n    },\n    exit: {\n        left: \"-300px\",\n        transition: {duration: .75, ease: [0.76, 0, 0.24, 1]}\n    }\n}\n\nconst routes = {\n    \"/\": \"Home\",\n    \"/about\": \"About\",\n    \"/contact\": \"Contact\"\n}\n\nconst anim = (variants) => {\n    return {\n        variants,\n        initial: \"initial\",\n        animate: \"enter\",\n        exit: \"exit\"\n    }\n}\n\n\nexport default function PageLoader({children, backgroundColor=\"#ffffff\", loadingText=\"Loading...\", animationType=\"circle\", duration=3000}) {\n    // const router = useRouter();\n    const [dimensions, setDimensions] = useState({\n        width: null,\n        height: null\n    })\n    \n    const [isLoading, setIsLoading] = useState(true)\n\n    useEffect(() => {\n        console.log('PageLoader mounted, isLoading:', isLoading)\n        \n        function resize(){\n            setDimensions({\n                width: window.innerWidth,\n                height: window.innerHeight\n            })\n        }\n        resize();\n        window.addEventListener(\"resize\", resize)\n        \n        // Set loading duration\n        const loadingTimer = setTimeout(() => {\n            console.log('Loading completed, setting isLoading to false')\n            setIsLoading(false)\n        }, duration)\n        \n        return () => {\n            window.removeEventListener(\"resize\", resize);\n            clearTimeout(loadingTimer);\n        }\n    }, [duration])\n    \n    console.log('PageLoader render - isLoading:', isLoading)\n    \n    return (\n    <div className='page curve' style={{backgroundColor}}>\n       <div style={{opacity: dimensions.width == null ? 1 : 0}} className='background'/>\n       \n        {/* CSS Loading Animation */}\n        {isLoading && (\n            <div className=\"loading-container\">\n                {animationType === 'circle' ? (\n                    <div className=\"loading-circle\">\n                        <div className=\"spinner\"></div>\n                    </div>\n                ) : (\n                    <div className=\"loading-text\">\n                        {loadingText}\n                    </div>\n                )}\n            </div>\n        )}\n       \n       <motion.p className='route' {...anim(text)}>\n            {/* {routes[router.route]} */}\n            page load\n        </motion.p>\n       {dimensions.width != null && <SVG {...dimensions}/>}\n        {\n            children\n        }\n    </div>\n    )\n}\n\nconst SVG = ({height, width}) => {\n\n    const initialPath = `\n        M300 0 \n        Q0 ${height / 2} 300 ${height}\n        L${width + 300} ${height}\n        Q${width + 600} ${height / 2} ${width + 300} 0\n        L0 0\n    `\n\n    const targetPath = `\n        M300 0\n        Q0 ${height / 2} 300 ${height}\n        L${width} ${height}\n        Q${width} ${height / 2} ${width} 0\n        L0 0\n    `\n\n    return (\n        <motion.svg {...anim(translate)}>\n            <motion.path {...anim(curve(initialPath, targetPath))} />\n        </motion.svg>\n    )\n}\n"],"names":["text","initial","opacity","enter","left","transition","duration","delay","ease","transitionEnd","exit","curve","initialPath","targetPath","d","translate","anim","variants","animate","PageLoader","children","backgroundColor","loadingText","animationType","dimensions","setDimensions","useState","width","height","isLoading","setIsLoading","useEffect","console","log","resize","window","innerWidth","innerHeight","addEventListener","loadingTimer","setTimeout","removeEventListener","clearTimeout","React","createElement","className","style","motion","p","_extends","SVG","svg","path"],"mappings":"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"}